schema: '2.0'
stages:
  load_data:
    cmd: python src/stage_01_load_save.py --config=config/config.yaml
    deps:
    - path: config/config.yaml
      md5: 128233d7be3b78bf1c8f8e48fd3d9804
      size: 476
    - path: src/stage_01_load_save.py
      md5: bf7cbb8a1aef808286be1219a3103fe6
      size: 1684
    - path: src/utils/all_utils.py
      md5: b2b2f22ec479325d82ba876757efc386
      size: 1007
    outs:
    - path: data
      md5: a52ad4b30715598bfd754e3e9c51ef2c.dir
      size: 37934943
      nfiles: 277
  prepare_base_model:
    cmd: python src/stage_02_prepare_base_model.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: config/config.yaml
      md5: 128233d7be3b78bf1c8f8e48fd3d9804
      size: 476
    - path: src/stage_02_prepare_base_model.py
      md5: db8c37ee1d8f02adde421006fdb47e10
      size: 2292
    - path: src/utils/all_utils.py
      md5: b2b2f22ec479325d82ba876757efc386
      size: 1007
    - path: src/utils/models.py
      md5: 660fd2cecf5e9c1c142358f490752520
      size: 1944
    params:
      params.yaml:
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.001
    outs:
    - path: artifacts/base_model/VGG16_base_model.h5
      md5: a53e3fd8fed9daf65c5bdc1b709713eb
      size: 58920272
    - path: artifacts/base_model/updated_VGG16_base_model.h5
      md5: b057aa5249f8539a6ae275533d42a287
      size: 59132008
  prepare_callbacks:
    cmd: python src/stage_03_prepare_callbacks.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: config/config.yaml
      md5: 128233d7be3b78bf1c8f8e48fd3d9804
      size: 476
    - path: params.yaml
      md5: 688186937b949f381b1a6b05d1901b9a
      size: 132
    - path: src/stage_03_prepare_callbacks.py
      md5: 14f810567c99ac8cbba94c2da4800a57
      size: 1813
    - path: src/utils/all_utils.py
      md5: b2b2f22ec479325d82ba876757efc386
      size: 1007
    - path: src/utils/callbacks.py
      md5: 47f9289a47896bc1e89dfce6edcee9d6
      size: 1530
    outs:
    - path: artifacts/callbacks/checkpoint_cb.cb
      md5: fa4abcae7e340415ddfaabd96efa85bb
      size: 869
    - path: artifacts/callbacks/tensorboard_cb.cb
      md5: 89c71c2294c7e04195719974c7e9cf4d
      size: 682
  train:
    cmd: python src/stage_04_train.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: artifacts/base_model/updated_VGG16_base_model.h5
      md5: b057aa5249f8539a6ae275533d42a287
      size: 59132008
    - path: artifacts/callbacks/checkpoint_cb.cb
      md5: fa4abcae7e340415ddfaabd96efa85bb
      size: 869
    - path: artifacts/callbacks/tensorboard_cb.cb
      md5: 89c71c2294c7e04195719974c7e9cf4d
      size: 682
    - path: config/config.yaml
      md5: 128233d7be3b78bf1c8f8e48fd3d9804
      size: 476
    - path: data
      md5: a52ad4b30715598bfd754e3e9c51ef2c.dir
      size: 37934943
      nfiles: 277
    - path: src/stage_04_train.py
      md5: e207526f0ec221a5d5ef9f6a69e354c8
      size: 2804
    - path: src/utils/all_utils.py
      md5: b2b2f22ec479325d82ba876757efc386
      size: 1007
    - path: src/utils/callbacks.py
      md5: 47f9289a47896bc1e89dfce6edcee9d6
      size: 1530
    - path: src/utils/data_management.py
      md5: 159814511626c74c7ca7d42c608814fc
      size: 1455
    - path: src/utils/models.py
      md5: 660fd2cecf5e9c1c142358f490752520
      size: 1944
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 30
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/model
      md5: 1f70c08d5dfb86e589c7fe6365e8a2d9.dir
      size: 59134488
      nfiles: 1
